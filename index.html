<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ì´ë³„ í›„ íšŒë³µ ê¸°ê°„ ì˜ˆì¸¡í•˜ê¸°</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        :root {
            --primary-color: #4a90e2;
            --secondary-color: #28a745;
            --bg-color: #f7f9fc;
            --text-color: #333;
            --container-bg: #fff;
            --font-family: 'Helvetica Neue', Arial, sans-serif;
            --dark-bg-color: #2c3e50;
            --dark-text-color: #ecf0f1;
            --dark-container-bg: #34495e;
        }

        /* ë‹¤í¬ ëª¨ë“œ */
        body.dark-mode {
            background-color: var(--dark-bg-color);
            color: var(--dark-text-color);
        }

        body.dark-mode .container {
            background-color: var(--dark-container-bg);
        }

        body {
            font-family: var(--font-family);
            margin: 20px;
            background-color: var(--bg-color);
            color: var(--text-color);
            font-size: 18px;
            transition: all 0.3s ease;
        }

        .container {
            max-width: 800px;
            margin: auto;
            background-color: var(--container-bg);
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0px 4px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .header {
            background-color: var(--primary-color);
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            font-size: 1.5em;
            text-align: center;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .dark-mode-toggle {
            background: transparent;
            border: none;
            font-size: 1em;
            cursor: pointer;
            color: white;
            outline: none;
        }

        .progress-bar {
            width: 100%;
            background-color: #f1f1f1;
            border-radius: 5px;
            margin-bottom: 20px;
            overflow: hidden;
        }

        .progress {
            height: 10px;
            background-color: var(--primary-color);
            width: 0;
            transition: width 0.4s ease;
        }

        .question {
            display: none;
            margin-bottom: 20px;
            text-align: left;
        }

        .question.active {
            display: block;
        }

        .question label {
            font-weight: bold;
            display: block;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .question input[type="radio"],
        .question input[type="checkbox"] {
            margin-right: 10px;
            transform: scale(1.2);
        }

        .result,
        .advice,
        .plan,
        .playlist,
        .guide {
            margin-top: 30px;
            font-weight: bold;
            font-size: 1.2em;
            text-align: left;
        }

        .advice {
            color: var(--secondary-color);
        }

        .resources,
        .emotion-diary {
            margin-top: 30px;
            text-align: left;
        }

        .resources h3,
        .emotion-diary h3 {
            color: var(--primary-color);
            font-weight: bold;
            font-size: 1.2em;
        }

        .resources ul,
        .emotion-diary ul {
            list-style-type: disc;
            padding-left: 20px;
        }

        .resources ul li a,
        .emotion-diary ul li a {
            text-decoration: none;
            color: var(--primary-color);
        }

        button {
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 5px;
            box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);
            transition: background-color 0.3s ease, box-shadow 0.3s ease;
            margin-top: 10px;
        }

        button:hover {
            background-color: #357ABD;
            box-shadow: 0px 6px 12px rgba(0, 0, 0, 0.15);
        }

        .disclaimer {
            margin-top: 20px;
            font-size: 0.9em;
            color: #555;
            text-align: center;
        }

        .diary-input {
            margin-top: 20px;
            display: flex;
            flex-direction: column;
        }

        .diary-input textarea {
            margin-bottom: 10px;
            padding: 10px;
            font-size: 1em;
            border-radius: 5px;
            border: 1px solid #ccc;
        }

        .diary-input textarea::placeholder {
            color: #666;
            font-style: italic;
        }

        .diary-list-item {
            padding: 10px;
            margin-top: 5px;
            background-color: #f1f1f1;
            border-radius: 5px;
        }

        .progress-status {
            font-size: 1em;
            color: var(--primary-color);
            margin-bottom: 20px;
            text-align: right;
        }

        /* ë°˜ì‘í˜• ë””ìì¸ */
        @media (max-width: 768px) {
            body {
                font-size: 16px;
            }

            .header {
                font-size: 1.3em;
            }

            button {
                font-size: 14px;
                padding: 8px 16px;
            }
        }

        @media (max-width: 480px) {
            body {
                font-size: 14px;
            }

            .header {
                font-size: 1.2em;
            }

            button {
                font-size: 12px;
                padding: 6px 14px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <span>ì´ë³„ í›„ íšŒë³µ ê¸°ê°„ ì˜ˆì¸¡í•˜ê¸°</span>
            <button type="button" class="dark-mode-toggle" onclick="toggleDarkMode()">ğŸŒ™ ë‹¤í¬ ëª¨ë“œ</button>
        </div>

        <!-- ì§„í–‰ ìƒíƒœ í‘œì‹œê¸° -->
        <div class="progress-bar">
            <div class="progress" id="progress"></div>
        </div>

        <!-- ì§„í–‰ ìƒí™© í…ìŠ¤íŠ¸ -->
        <div id="progressStatus" class="progress-status">ì§ˆë¬¸ 1/18</div>

        <!-- ì„¤ë¬¸ í¼ -->
        <form id="surveyForm">
            <!-- ì§ˆë¬¸ë“¤ì´ ë™ì ìœ¼ë¡œ ì¶”ê°€ë  ìœ„ì¹˜ -->
            <div id="questionsContainer"></div>

            <!-- ë‹¤ìŒ ë²„íŠ¼ -->
            <button type="button" id="nextButton" onclick="showNextQuestion()">ë‹¤ìŒ</button>
        </form>

        <!-- ê²°ê³¼ ë° ì¡°ì–¸ í‘œì‹œ -->
        <div id="result" class="result"></div>
        <div id="advice" class="advice"></div>
        <div id="plan" class="plan"></div>
        <div id="playlist" class="playlist"></div>

        <!-- ì¬íšŒ í™•ë¥  ê³„ì‚° ì„¹ì…˜ -->
        <div id="reunionSection" style="display:none;">
            <h3>ì¬íšŒ í™•ë¥ ì„ ê³„ì‚°í•´ ë³´ì„¸ìš”</h3>

            <form id="reunionForm">
                <!-- ì¬íšŒ ê´€ë ¨ ì§ˆë¬¸ë“¤ -->
                <div id="reunionQuestionsContainer"></div>

                <button type="button" id="reunionNextButton" onclick="showNextReunionQuestion()">ë‹¤ìŒ</button>
                <button type="button" id="calculateReunionButton" style="display:none;" onclick="calculateReunion()">ì¬íšŒ í™•ë¥  ê³„ì‚°í•˜ê¸°</button>
            </form>

            <div id="reunionResult" class="result"></div>
            <div id="reunionAdvice" class="advice"></div>
        </div>

        <!-- ì¶”ê°€ ë¦¬ì†ŒìŠ¤ ì œê³µ -->
        <div id="resources" class="resources">
            <h3>ë” ë§ì€ ì •ë³´</h3>
            <ul>
                <li><a href="https://example.com/mental-health" target="_blank">ì •ì‹  ê±´ê°•ì„ ìœ„í•œ 10ê°€ì§€ ì¡°ì–¸</a></li>
                <li><a href="https://example.com/books" target="_blank">ì´ë³„ í›„ íšŒë³µì„ ë•ëŠ” ì±… ëª©ë¡</a></li>
                <li><a href="tel:010-9299-9928">ì „ë¬¸ ìƒë‹´ ì„œë¹„ìŠ¤ ì•Œì•„ë³´ê¸°</a></li>
            </ul>
        </div>

        <!-- ë””ìŠ¤í´ë ˆì„(ë©´ì±… ì¡°í•­) -->
        <div class="disclaimer">
            ì´ ì„¤ë¬¸ì€ ì‹¬ë¦¬í•™ì  ì—°êµ¬ì— ê¸°ë°˜í•˜ì—¬ êµ¬ì„±ë˜ì—ˆìœ¼ë©°, ê¹€ìˆ˜í˜„ ë°•ì‚¬ì˜ ê²€ì¦ì„ ë°›ì•˜ìŠµë‹ˆë‹¤.
        </div>
    </div>

    <script>
        let currentQuestionIndex = 0;
        let currentReunionQuestionIndex = 0;

        // ë‹¤í¬ ëª¨ë“œ í† ê¸€
        function toggleDarkMode() {
            document.body.classList.toggle('dark-mode');
        }

        // ì„¤ë¬¸ ë¬¸í•­ì„ ë™ì ìœ¼ë¡œ ìƒì„±
        document.addEventListener("DOMContentLoaded", function () {
            const form = document.getElementById("surveyForm");

            const questions = [
                {
                    legend: "ê´€ê³„ì˜ ê¸¸ì´ëŠ” ì–¼ë§ˆë‚˜ ë˜ì—ˆë‚˜ìš”?",
                    options: [
                        { value: "10", label: "1ë…„ ë¯¸ë§Œ" },
                        { value: "20", label: "1-3ë…„" },
                        { value: "30", label: "3ë…„ ì´ìƒ" },
                    ],
                },
                {
                    legend: "ì´ë³„ì˜ ì¶©ê²©ì€ ì–¼ë§ˆë‚˜ ì»¸ë‚˜ìš”?",
                    options: [
                        { value: "30", label: "ë§¤ìš° ì»¸ë‹¤" },
                        { value: "20", label: "ë³´í†µ" },
                        { value: "10", label: "ë³„ë¡œ ì¶©ê²©ì ì´ì§€ ì•Šì•˜ë‹¤" },
                    ],
                },
                {
                    legend: "í˜„ì¬ ê°ì • ìƒíƒœë¥¼ ì–´ë–»ê²Œ í‘œí˜„í•˜ì‹œê² ì–´ìš”?",
                    options: [
                        { value: "50", label: "ë§¤ìš° ìŠ¬í”„ë‹¤" },
                        { value: "40", label: "ë‹¤ì†Œ ìŠ¬í”„ë‹¤" },
                        { value: "20", label: "í‰ì˜¨í•˜ë‹¤" },
                        { value: "10", label: "ë‹¤ì†Œ í–‰ë³µí•˜ë‹¤" },
                        { value: "0", label: "ë§¤ìš° í–‰ë³µí•˜ë‹¤" },
                    ],
                },
                {
                    legend: "ì´ë³„ í›„ ìƒˆë¡œìš´ í™œë™ì´ë‚˜ ì·¨ë¯¸ë¥¼ ì‹œì‘í–ˆë‚˜ìš”?",
                    options: [
                        { value: "10", label: "ì˜ˆ, ì—¬ëŸ¬ ê°€ì§€ ìƒˆë¡œìš´ í™œë™ì„ ì‹œì‘í–ˆë‹¤" },
                        { value: "20", label: "ì˜ˆ, ëª‡ ê°€ì§€ ìƒˆë¡œìš´ í™œë™ì„ ì‹œì‘í–ˆë‹¤" },
                        { value: "30", label: "ì•„ë‹ˆìš”, ê¸°ì¡´ í™œë™ë§Œ ìœ ì§€í•˜ê³  ìˆë‹¤" },
                        { value: "40", label: "ì•„ë‹ˆìš”, ì•„ë¬´ëŸ° í™œë™ë„ í•˜ì§€ ì•Šì•˜ë‹¤" },
                    ],
                },
                {
                    legend: "ì´ë³„ í›„ ìˆ˜ë©´ íŒ¨í„´ì€ ì–´ë–»ê²Œ ë³€í–ˆë‚˜ìš”?",
                    options: [
                        { value: "40", label: "ë¶ˆë©´ì¦ì´ ì‹¬í•´ì¡Œë‹¤" },
                        { value: "30", label: "í‰ì†Œë³´ë‹¤ ëœ ì”ë‹¤" },
                        { value: "20", label: "í‰ì†Œì™€ ë¹„ìŠ·í•˜ë‹¤" },
                        { value: "10", label: "í‰ì†Œë³´ë‹¤ ë” ë§ì´ ì”ë‹¤" },
                    ],
                },
                {
                    legend: "ì´ë³„ ì „í›„ì˜ ìê¸° ì¸ì‹ì€ ì–´ë–»ê²Œ ë‹¬ë¼ì¡Œë‚˜ìš”?",
                    options: [
                        { value: "50", label: "ìì‹ ê°ì´ ë§ì´ ë–¨ì–´ì¡Œë‹¤" },
                        { value: "30", label: "ì•½ê°„ ë–¨ì–´ì¡Œë‹¤" },
                        { value: "10", label: "ê±°ì˜ ë³€í•˜ì§€ ì•Šì•˜ë‹¤" },
                        { value: "0", label: "ì˜¤íˆë ¤ ìì‹ ê°ì´ ì¦ê°€í–ˆë‹¤" },
                    ],
                },
                {
                    legend: "ì´ë³„ í›„ ì£¼ë³€ ì‚¬ëŒë“¤ë¡œë¶€í„° ì–´ë–¤ ë„ì›€ì„ ë°›ê³  ìˆë‚˜ìš”?",
                    options: [
                        { value: "10", label: "ì¹œêµ¬ë‚˜ ê°€ì¡±ì˜ ë„ì›€ì„ ë§ì´ ë°›ê³  ìˆë‹¤" },
                        { value: "20", label: "ë³´í†µì´ë‹¤" },
                        { value: "30", label: "ë„ì›€ì„ ê±°ì˜ ë°›ì§€ ëª»í•˜ê³  ìˆë‹¤" },
                    ],
                },
                {
                    legend: "ë¯¸ë˜ì˜ ê´€ê³„ì— ëŒ€í•œ ê¸°ëŒ€ê°ì€ ì–´ë–¤ê°€ìš”?",
                    options: [
                        { value: "0", label: "ë§¤ìš° ê¸ì •ì ì´ë‹¤" },
                        { value: "10", label: "ë‹¤ì†Œ ê¸ì •ì ì´ë‹¤" },
                        { value: "30", label: "ë³´í†µì´ë‹¤" },
                        { value: "50", label: "ë¯¸ë˜ê°€ ë‘ë µë‹¤" },
                    ],
                },
                {
                    legend: "ì´ë³„ í›„ ìƒí™œ ìŠµê´€ì€ ì–´ë–»ê²Œ ë³€í–ˆë‚˜ìš”?",
                    options: [
                        { value: "40", label: "ê±´ê°•í•˜ì§€ ì•Šì€ ìŠµê´€ì´ ìƒê²¼ë‹¤" },
                        { value: "30", label: "í‰ì†Œë³´ë‹¤ ë‚˜ë¹ ì¡Œë‹¤" },
                        { value: "20", label: "ë³€í•¨ì—†ë‹¤" },
                        { value: "10", label: "ê±´ê°•í•œ ìŠµê´€ì„ ìœ ì§€í•˜ê³  ìˆë‹¤" },
                        { value: "0", label: "ê±´ê°•í•œ ìŠµê´€ì„ ìƒˆë¡œ í˜•ì„±í–ˆë‹¤" },
                    ],
                },
            ];

            const questionsContainer = document.getElementById("questionsContainer");

            questions.forEach((question, index) => {
                const fieldset = document.createElement("fieldset");
                fieldset.className = "question";
                if (index === 0) fieldset.classList.add("active"); // ì²« ë²ˆì§¸ ì§ˆë¬¸ë§Œ í™œì„±í™”

                const legend = document.createElement("legend");
                legend.textContent = question.legend;
                fieldset.appendChild(legend);

                question.options.forEach((option) => {
                    const label = document.createElement("label");
                    const input = document.createElement("input");
                    input.type = "radio";
                    input.name = "q" + (index + 1);
                    input.value = option.value;
                    label.appendChild(input);
                    label.appendChild(document.createTextNode(" " + option.label));
                    fieldset.appendChild(label);
                    fieldset.appendChild(document.createElement("br"));
                });

                questionsContainer.appendChild(fieldset);
            });

            // í¼ì´ ë™ì ìœ¼ë¡œ ì¶”ê°€ëœ í›„ ì§„í–‰ ë°”ë„ ì—…ë°ì´íŠ¸
            updateProgressBar();
        });

        // ë‹¤ìŒ ì§ˆë¬¸ í‘œì‹œ
        function showNextQuestion() {
            const questions = document.querySelectorAll('.question');
            const currentQuestion = questions[currentQuestionIndex];

            // ì„ íƒì´ ì•ˆëœ ê²½ìš° ì•Œë¦¼
            if (!currentQuestion.querySelector('input[type="radio"]:checked')) {
                alert("ì§ˆë¬¸ì— ë‹µë³€ì„ ì„ íƒí•´ì£¼ì„¸ìš”.");
                return;
            }

            // í˜„ì¬ ì§ˆë¬¸ ìˆ¨ê¸°ê³  ë‹¤ìŒ ì§ˆë¬¸ í‘œì‹œ
            currentQuestion.classList.remove('active');
            currentQuestionIndex++;

            if (currentQuestionIndex < questions.length) {
                questions[currentQuestionIndex].classList.add('active');
                updateProgressBar();
            } else {
                document.getElementById("nextButton").style.display = 'none';
                calculateTime();
                showReunionSection(); // ì¬íšŒ í™•ë¥  ê³„ì‚° ì‹œì‘
            }
        }

        // ì¬íšŒ í™•ë¥  ì„¤ë¬¸ ë¬¸í•­ì„ ë™ì ìœ¼ë¡œ ìƒì„±
        document.addEventListener("DOMContentLoaded", function () {
            const reunionQuestions = [
                {
                    legend: "í—¤ì–´ì§„ ì§€ ì–¼ë§ˆë‚˜ ë˜ì—ˆë‚˜ìš”?",
                    options: [
                        { value: "10", label: "1ê°œì›” ì´í•˜" },
                        { value: "20", label: "1ê°œì›” ì´ìƒ ~ 3ë‹¬ ì´í•˜" },
                        { value: "30", label: "3ê°œì›” ì´ìƒ ~ 6ê°œì›” ì´í•˜" },
                        { value: "40", label: "6ê°œì›” ì´ìƒ ~ 1ë…„ ì´í•˜" },
                        { value: "50", label: "1ë…„ ì´ìƒ" },
                    ],
                },
                {
                    legend: "í—¤ì–´ì§€ëŠ” ìˆœê°„, ë‚˜ëŠ” ì–´ë–»ê²Œ í–‰ë™í–ˆë‚˜ìš”?",
                    options: [
                        { value: "50", label: "í—¤ì–´ì§ˆ ìƒê° ì—†ë‹¤ë©´ì„œ ê³ ì§‘ì„ ë¶€ë ¸ë‹¤." },
                        { value: "40", label: "ë¯¸ë ¨ì´ ë‚¨ë„ë¡ ì˜ í•˜ê² ë‹¤ë©° ë¶™ì¡ì•˜ë‹¤." },
                        { value: "30", label: "ì™œ ìš°ë¦¬ê°€ í—¤ì–´ì§€ë©´ ì•ˆë˜ëŠ”ì§€ ì¡°ëª©ì¡°ëª© ë”°ì¡Œë‹¤." },
                        { value: "20", label: "ì•Œê² ë‹¤ë©´ì„œ ë‹´ë‹´í•˜ê²Œ ì¹¨ë¬µí–ˆë‹¤." },
                        { value: "10", label: "ì¿¨í•œ ì²™ ì•Œê² ë‹¤ë©° ëŒì•„ì„°ë‹¤." },
                        { value: "0", label: "ë‚˜ë„ ì´ì œ ë§Œë‚  ìƒê° ì—†ë‹¤ê³  ì–˜ê¸°í•´ì£¼ì—ˆë‹¤." },
                    ],
                },
                {
                    legend: "í—¤ì–´ì§„ í›„, ì–¼ë§ˆë‚˜ ì—°ë½ì„ ì£¼ê³  ë°›ì•˜ë‚˜ìš”?",
                    options: [
                        { value: "0", label: "ì—†ìŒ" },
                        { value: "10", label: "1ë²ˆ" },
                        { value: "20", label: "3ë²ˆ" },
                        { value: "30", label: "5ë²ˆ" },
                    ],
                },
                {
                    legend: "ë‘˜ì˜ ê¸°ì–µì´ ë‚¨ì•„ìˆëŠ” ì¥ì†Œê°€ ëª‡ ê³³ì´ ìˆë‚˜ìš”?",
                    options: [
                        { value: "10", label: "2 ê³³ ì´í•˜" },
                        { value: "20", label: "5 ê³³ ì´í•˜" },
                        { value: "30", label: "10 ê³³ ì´í•˜" },
                        { value: "40", label: "10 ê³³ ì´ìƒ" },
                    ],
                },
                {
                    legend: "ì„œë¡œì—ê²Œ ë‚¨ì•„ìˆëŠ” ì—°ê²°ì ì€?",
                    options: [
                        { value: "10", label: "ì¹´ì¹´ì˜¤í†¡ ì¹œêµ¬", type: "checkbox" },
                        { value: "10", label: "SNS íŒ”ë¡œìš° ìƒíƒœ", type: "checkbox" },
                        { value: "20", label: "ê°™ì€ ì§ì¥, í•™êµì— ìˆìŒ", type: "checkbox" },
                        { value: "20", label: "ê°™ì€ ëª¨ì„, ë‹¨í†¡ë°©ì´ ìˆìŒ", type: "checkbox" },
                        { value: "20", label: "ê°€ê¹Œìš´ ê³³ì— ì‚´ê³  ìˆìŒ (ì§ì¥ í¬í•¨)", type: "checkbox" },
                        { value: "10", label: "ê²¹ì¹˜ëŠ” ë‹¨ê³¨ ì‹ë‹¹, ë‹¨ê³¨ ë§¤ì¥ì´ ìˆìŒ", type: "checkbox" },
                        { value: "10", label: "ê°šì•„ì•¼ í•  ëˆ or ëŒë ¤ì¤„ ë¬¼ê±´ì´ ìˆìŒ", type: "checkbox" },
                    ],
                },
                {
                    legend: "ë‘˜ ì‚¬ì´ì— ì•„ëŠ” ì§€ì¸ì€ ëª‡ ëª…ì¸ê°€ìš”? (ì—°ë½ ê°€ëŠ¥)",
                    options: [
                        { value: "0", label: "ì—†ìŒ" },
                        { value: "10", label: "1ëª…" },
                        { value: "20", label: "2ëª…" },
                        { value: "30", label: "3ëª…" },
                        { value: "40", label: "5ëª… ì´ìƒ" },
                    ],
                },
                {
                    legend: "ìƒëŒ€ì˜ í˜„ì¬ ìƒí™©ì€ ì–´ë–¤ê°€ìš”? (ì—°ì•  ì œì™¸)",
                    options: [
                        { value: "30", label: "ì¼ ë•Œë¬¸ì— ë°”ì˜ë‹¤." },
                        { value: "20", label: "ì–´ë–¤ ì´ìœ ë¡œ í˜ë“  ì‹œê¸°ë¥¼ ë³´ë‚´ê³  ìˆë‹¤." },
                        { value: "10", label: "ìê¸° ì‚¶ì„ ì¦ê¸°ê³  ìˆë‹¤." },
                        { value: "20", label: "í—¤ì–´ì§€ê¸° ì „ê³¼ ë˜‘ê°™ì´ ì‚´ê³  ìˆë‹¤." },
                        { value: "0", label: "ì˜ ëª¨ë¥´ê² ë‹¤." },
                    ],
                },
                {
                    legend: "í—¤ì–´ì§„ ì´í›„, ë‚´ ì‚¶ì´ ì–¼ë§ˆë‚˜ ë³€í–ˆë‚˜ìš”?",
                    options: [
                        { value: "50", label: "ì¼ë„ ì†ì— ì•ˆì¡íˆê³ , í˜ë“¤ì–´ì„œ ì•„ë¬´ ê²ƒë„ í•˜ì§€ ì•Šì•˜ë‹¤.(ìˆ .í­ì‹,ê±°ì‹,ë¶ˆë©´ì¦,ë¬´ê¸°ë ¥ ë“±)" },
                        { value: "40", label: "ìŠ¬í”ˆ ë§ˆìŒì„ ë‹¬ë˜ê¸° ìœ„í•´, ì‰¬ë©´ì„œ íë§í•˜ëŠ”ë° ì§‘ì¤‘í–ˆë‹¤." },
                        { value: "30", label: "ê·¸ ì‚¬ëŒì´ ìƒê°ë‚˜ì§€ ì•Šë„ë¡, ìƒˆë¡œìš´ í™œë™ì„ ì‹œì‘í–ˆë‹¤. (ì¼, ì—¬í–‰, ëª¨ì„, ìš´ë™ ë“±)" },
                        { value: "10", label: "ì–´ì°¨í”¼ í—¤ì–´ì§„ ê±°, ìƒˆë¡œìš´ ì‚¬ëŒì„ ì‹¤ì»· ë§Œë‚¬ë‹¤. (ì†Œê°œíŒ…, ì¸)" },
                    ],
                },
                {
                    legend: "í—¤ì–´ì§„ ì´í›„ ë‚´ ì¹´í†¡ í”„ë¡œí•„, SNS ìƒíƒœëŠ”?",
                    options: [
                        { value: "10", label: "ëª¨ë“  ì‚¬ì§„ ë¹„ê³µê°œ" },
                        { value: "20", label: "ë³´ë€ ë“¯ì´ ì˜ ì‚¬ëŠ” ëª¨ìŠµ ê³¼ì‹œ" },
                        { value: "20", label: "ê°€ë” ê·¼í™©ë§Œ ì˜¬ë¦¬ê¸°" },
                        { value: "40", label: "ë‹¤ë¥¸ ì´ì„±ê³¼ ê°™ì´ ìˆì„ ê²ƒ ê°™ì€ ì‚¬ì§„ì„ ì˜¬ë¦¼" },
                        { value: "30", label: "ì…€ì¹´ë¥¼ ìì£¼ ì—…ëƒ" },
                        { value: "20", label: "í˜ë“  í‹°ë¥¼ ëƒ„ (ìŠ¬í”ˆ ë…¸ë˜, ê°ì„± ê¸€ê·€ ë“±)" },
                        { value: "0", label: "ìƒˆë¡œ ì˜¬ë¦° ì‚¬ì§„ ì—†ìŒ" },
                        { value: "10", label: "ì¼ë¶€ëŸ¬ ë‚˜ë‘ ê´€ë ¨ì—†ëŠ” ì‚¬ì§„ë§Œ ì˜¬ë¦¼" },
                    ],
                },
                {
                    legend: "ì—°ë½í•  ë•Œ, ì• ì •í‘œí˜„ì„ í•´ë³¸ ì  ìˆë‚˜ìš”?",
                    options: [
                        { value: "30", label: "í•­ìƒ ë‚´ ë§ˆìŒì„ í‘œí˜„í–ˆìŒ" },
                        { value: "20", label: "ê°€ë” ë¶„ìœ„ê¸° ì¢‹ì„ ë•Œ í–ˆìŒ" },
                        { value: "10", label: "ìµœëŒ€í•œ ìì œí•¨" },
                        { value: "0", label: "í•  ë§Œí•œ ìƒí™©ì´ ì˜¨ ì  ì—†ìŒ" },
                    ],
                },
                {
                    legend: "ì—°ë½í•  ë•Œ 'í—¤ì–´ì§„ ë‹¹ì‹œì˜ ìƒí™©'ì„ ë‹¤ì‹œ ì–˜ê¸°í•œ ì  ìˆë‚˜ìš”?",
                    options: [
                        { value: "30", label: "ì—°ë½í•  ë•Œë§ˆë‹¤ ì–˜ê¸°ë¥¼ êº¼ëƒˆìŒ" },
                        { value: "20", label: "ëŒ€í™” ì¤‘ 2ë²ˆ ì´ìƒ ì–˜ê¸°í•œ ì  ìˆìŒ" },
                        { value: "10", label: "ì„ í†¡ìœ¼ë¡œ ì–˜ê¸°ë¥¼ êº¼ë‚´ ë³¸ ì  ìˆìŒ" },
                        { value: "0", label: "ìµœëŒ€í•œ ìì œ ì¤‘" },
                    ],
                },
                {
                    legend: "ì—°ë½í•  ë•Œ, ì¬íšŒ ì´ì•¼ê¸°ë¥¼ êº¼ë‚¸ ì  ìˆë‚˜ìš”?",
                    options: [
                        { value: "30", label: "ì—°ë½í•  ë•Œë§ˆë‹¤ ì–˜ê¸°í•¨" },
                        { value: "20", label: "ë– ë³´ë“¯ì´ ì–˜ê¸°í•œ ì  ìˆìŒ" },
                        { value: "10", label: "ëŒ€í™”ëŠ” í–ˆì§€ë§Œ, ì°¨ë§ˆ êº¼ë‚´ì§€ ëª»í•¨" },
                        { value: "0", label: "ì¬íšŒ ì–˜ê¸°ì—†ì´ ì€ê·¼í•œ ê´€ì‹¬ë§Œ í‘œí˜„" },
                    ],
                },
                {
                    legend: "ì—°ë½ ë§ˆë¬´ë¦¬ë¥¼ ëˆ„ê°€ ë” ë§ì´ í–ˆë‚˜ìš”?",
                    options: [
                        { value: "30", label: "í•­ìƒ ë‚´ê°€ ë¨¼ì €" },
                        { value: "20", label: "ë‚´ê°€ í•œ ì ì´ ë” ë§ìŒ" },
                        { value: "10", label: "ìƒëŒ€ê°€ í•œ ì ì´ ì¢€ ë” ë§ìŒ" },
                        { value: "0", label: "í•­ìƒ ìƒëŒ€ê°€ ë¨¼ì €" },
                    ],
                },
                {
                    legend: "ì—°ë½ì„ ë¬´ì‹œ ë‹¹í–ˆì„ ë•Œ ë‚˜ì˜ ëŒ€ì²˜ëŠ”?",
                    options: [
                        { value: "10", label: "í•œë²ˆ ë” í†¡ì„ ë³´ë‚¸ë‹¤." },
                        { value: "10", label: "ì—°ë½ì„ ë¬´ì‹œí•˜ëŠ” ì´ìœ ë¥¼ ë¬»ëŠ”ë‹¤." },
                        { value: "0", label: "ë” ì´ìƒ ì•„ë¬´ ê²ƒë„ í•˜ì§€ ì•ŠëŠ”ë‹¤." },
                        { value: "20", label: "ë©°ì¹  ìˆë‹¤ ë‹¤ë¥¸ ì–˜ê¸°ë¡œ ì—°ë½í•´ë³¸ë‹¤." },
                    ],
                },
                {
                    legend: "ì—°ë½í–ˆì„ ë•Œ ìƒëŒ€ì˜ 'ê¸ì •ì ì¸' ë°˜ì‘?",
                    options: [
                        { value: "10", label: "ë‚´ ì§ˆë¬¸ì— ì„±ì‹¤í•˜ê²Œ ëŒ€ë‹µ", type: "checkbox" },
                        { value: "10", label: "ê¸ì •ì ì¸(ì¹œì ˆorì¹œê·¼) ë§íˆ¬", type: "checkbox" },
                        { value: "20", label: "ë¬»ì§€ë„ ì•Šì€ ì´ì•¼ê¸°ë¥¼ êº¼ëƒ„", type: "checkbox" },
                        { value: "20", label: "ì¢…ì¢… ì¦‰ê°ì ìœ¼ë¡œ ë‹µì¥ì´ ì˜´", type: "checkbox" },
                        { value: "20", label: "ë‚˜ì˜ ê·¼í™©ì— ëŒ€í•´ ë¨¼ì € ë¬¼ì–´ë´„", type: "checkbox" },
                        { value: "20", label: "ë‚˜ì˜ ê·¼í™©ì„ ì•Œê³  ìˆìŒ", type: "checkbox" },
                        { value: "30", label: "ë‹¤ì‹œ ë§Œë‚˜ ì´ì•¼ê¸° í•  ìˆ˜ ìˆìŒì„ ì•”ì‹œ", type: "checkbox" },
                        { value: "40", label: "ë‹¤ì‹œ ì‚¬ê·ˆ ìˆ˜ ìˆìŒì„ ì•”ì‹œ", type: "checkbox" },
                    ],
                },
                {
                    legend: "ì—°ë½í–ˆì„ ë•Œ ìƒëŒ€ì˜ 'ë¶€ì •ì ì¸' ë°˜ì‘?",
                    options: [
                        { value: "0", label: "ì—°ë½í•˜ì§€ ë§ì•„ë‹¬ë¼ê³  í•¨", type: "checkbox" },
                        { value: "10", label: "ë‹µì¥ì€ ì˜¤ì§€ë§Œ ë‹¨ë‹µ", type: "checkbox" },
                        { value: "20", label: "ë‹µì¥ì€ ì˜¤ì§€ë§Œ ê²½ê³„í•˜ëŠ” ë§íˆ¬", type: "checkbox" },
                        { value: "20", label: "10ì‹œê°„ ë„˜ëŠ” ë‹µì¥ í…€, 3ë²ˆ ì´ìƒ", type: "checkbox" },
                        { value: "30", label: "ì—°ì•  ë•Œì™€ ë‹¬ë¦¬ ì½ì”¹, ì•ˆì½ì”¹ì„ ìì£¼ í•¨", type: "checkbox" },
                        { value: "30", label: "ë‚˜ë¥¼ ì›ë§í•˜ê³  í™”ë¥¼ ëƒ„", type: "checkbox" },
                        { value: "20", label: "ë‹µì¥ì„ ëŠ¦ê²Œ í•œ ê²ƒì— ë³€ëª… í•¨", type: "checkbox" },
                        { value: "20", label: "ì´ë³„ ë‹¹ì‹œ ìƒí™©ì— ëŒ€í•´ ì–˜ê¸°ë¥¼ í•¨", type: "checkbox" },
                    ],
                },
            ];

            const reunionQuestionsContainer = document.getElementById("reunionQuestionsContainer");

            reunionQuestions.forEach((question, index) => {
                const fieldset = document.createElement("fieldset");
                fieldset.className = "question";
                if (index === 0) fieldset.classList.add("active"); // ì²« ë²ˆì§¸ ì§ˆë¬¸ë§Œ í™œì„±í™”

                const legend = document.createElement("legend");
                legend.textContent = question.legend;
                fieldset.appendChild(legend);

                question.options.forEach((option) => {
                    const label = document.createElement("label");
                    const input = document.createElement("input");
                    input.type = option.type || "radio";
                    input.name = "r" + (index + 1) + (option.type === "checkbox" ? "[]" : "");
                    input.value = option.value;
                    label.appendChild(input);
                    label.appendChild(document.createTextNode(" " + option.label));
                    fieldset.appendChild(label);
                    fieldset.appendChild(document.createElement("br"));
                });

                reunionQuestionsContainer.appendChild(fieldset);
            });

            // í¼ì´ ë™ì ìœ¼ë¡œ ì¶”ê°€ëœ í›„ ì§„í–‰ ë°”ë„ ì—…ë°ì´íŠ¸
            updateReunionProgressBar();
        });

        // ë‹¤ìŒ ì¬íšŒ ì§ˆë¬¸ í‘œì‹œ
        function showNextReunionQuestion() {
            const questions = document.querySelectorAll('#reunionQuestionsContainer .question');
            const currentQuestion = questions[currentReunionQuestionIndex];

            // ì„ íƒì´ ì•ˆëœ ê²½ìš° ì•Œë¦¼
            const checkedInputs = currentQuestion.querySelectorAll('input[type="radio"]:checked, input[type="checkbox"]:checked');
            if (checkedInputs.length === 0) {
                alert("ì§ˆë¬¸ì— ë‹µë³€ì„ ì„ íƒí•´ì£¼ì„¸ìš”.");
                return;
            }

            // í˜„ì¬ ì§ˆë¬¸ ìˆ¨ê¸°ê³  ë‹¤ìŒ ì§ˆë¬¸ í‘œì‹œ
            currentQuestion.classList.remove('active');
            currentReunionQuestionIndex++;

            if (currentReunionQuestionIndex < questions.length) {
                questions[currentReunionQuestionIndex].classList.add('active');
                updateReunionProgressBar();
            } else {
                document.getElementById("reunionNextButton").style.display = 'none';
                document.getElementById("calculateReunionButton").style.display = 'block';
            }
        }

        // ì¬íšŒ í™•ë¥  ê³„ì‚° í•¨ìˆ˜
        function calculateReunion() {
            const form = document.forms['reunionForm'];
            let score = 0;

            // ê° ì§ˆë¬¸ì˜ ì ìˆ˜ í•©ì‚°
            for (let i = 1; i <= 18; i++) {
                const question = form['r' + i];
                if (question) {
                    if (question.length) {
                        for (const option of question) {
                            if (option.checked) {
                                score += parseInt(option.value);
                            }
                        }
                    } else if (question.checked) {
                        score += parseInt(question.value);
                    }
                }
            }

            // ì¬íšŒ í™•ë¥  ê³„ì‚° ë° ê²°ê³¼ í‘œì‹œ
            let probability = getReunionProbability(score);
            document.getElementById('reunionResult').innerText = `ì¬íšŒ í™•ë¥ : ${probability}%`;

            // ê° í™•ë¥ ì— ë”°ë¥¸ ì¡°ì–¸ ì œê³µ
            let advice = getReunionAdvice(probability);
            document.getElementById('reunionAdvice').innerText = advice;
        }

        function getReunionProbability(score) {
            // ì ìˆ˜ì— ë”°ë¥¸ ì¬íšŒ í™•ë¥  ê³„ì‚°
            if (score <= 100) {
                return 20; // ë‚®ì€ í™•ë¥ 
            } else if (score <= 200) {
                return 40; // ë³´í†µ í™•ë¥ 
            } else if (score <= 300) {
                return 60; // ë†’ì€ í™•ë¥ 
            } else {
                return 80; // ë§¤ìš° ë†’ì€ í™•ë¥ 
            }
        }

        function getReunionAdvice(probability) {
            if (probability <= 20) {
                return "í˜„ì¬ ìƒí™©ì—ì„œ ì¬íšŒ ê°€ëŠ¥ì„±ì€ ë‚®ìŠµë‹ˆë‹¤. ì´ ì‹œê¸°ë¥¼ ë‚˜ë¥¼ ëŒì•„ë³´ê³  ì„±ì¥í•˜ëŠ” ê¸°íšŒë¡œ ì‚¼ì•„ë³´ì„¸ìš”.";
            } else if (probability <= 40) {
                return "ì¬íšŒ ê°€ëŠ¥ì„±ì€ ìˆì§€ë§Œ, ì‰½ê²Œ ì´ë£¨ì–´ì§€ì§€ëŠ” ì•Šì„ ê²ƒì…ë‹ˆë‹¤. ì‹ ì¤‘í•˜ê²Œ ì ‘ê·¼í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.";
            } else if (probability <= 60) {
                return "ì†ì— ì¡í ë“¯ ë§ë“¯ ë‹µë‹µí•˜ê³  í˜ë“¤ ìˆ˜ ìˆì–´ìš”.\nê·¸ëŸ¬ë‚˜ ì§€ê¸ˆì€ ì¸ë‚´ê°€ í•„ìš”í•  ë•Œì…ë‹ˆë‹¤. ê·¸ ì‚¬ëŒì€ ë¶„ëª… ë‚˜ë¥¼ ì˜ì‹í•˜ê³  ìˆëŠ” ìƒí™©ì…ë‹ˆë‹¤. ê·¸ë˜ì„œ ì—°ë½ì„ í•˜ë©´ ë°›ì•„ì£¼ê¸´ í•˜ê² ì§€ë§Œ, íƒœë„ê°€ ê¸´ê°€ë¯¼ê°€ í•˜ê³ , ë°˜ì‘ë„ ê·¸ë¦¬ ë§Œì¡±ìŠ¤ëŸ½ì§„ ì•Šì„ ê±°ì—ìš”. ì¬íšŒë¥¼ ìœ„í•´ì„œëŠ” ì¢€ ë” ê°•ë ¥í•œ í•œë°©ì´ í•„ìš”í•©ë‹ˆë‹¤.";
            } else {
                return "ì¬íšŒ ê°€ëŠ¥ì„±ì´ ë†’ìŠµë‹ˆë‹¤! ìƒëŒ€ë°©ë„ ë‹¹ì‹ ì—ê²Œ ê¸ì •ì ì¸ ê°ì •ì„ ê°–ê³  ìˆì„ ê°€ëŠ¥ì„±ì´ í½ë‹ˆë‹¤. ìì—°ìŠ¤ëŸ½ê²Œ ë‹¤ê°€ê°€ë©´ ì¢‹ì€ ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆì„ ê²ƒì…ë‹ˆë‹¤.";
            }
        }

        // ì„¤ë¬¸ ì¢…ë£Œ í›„ ì¬íšŒ í™•ë¥  ê³„ì‚° ì‹œì‘
        function showReunionSection() {
            document.getElementById('reunionSection').style.display = 'block';
        }

        // ì§„í–‰ ë°” ì—…ë°ì´íŠ¸ (ì¬íšŒ í™•ë¥  ì„¤ë¬¸)
        function updateReunionProgressBar() {
            const questions = document.querySelectorAll('#reunionQuestionsContainer .question');
            const progress = ((currentReunionQuestionIndex + 1) / questions.length) * 100;
            document.getElementById('progress').style.width = progress + '%';

            // ì§„í–‰ ìƒíƒœ ì—…ë°ì´íŠ¸
            document.getElementById('progressStatus').innerText = `ì¬íšŒ ì„¤ë¬¸ ${currentReunionQuestionIndex + 1}/${questions.length}`;
        }
    </script>
</body>
</html>
